"use strict";(self.webpackChunkhiloramart=self.webpackChunkhiloramart||[]).push([[814],{9814:function(i,d,e){e.r(d),e.d(d,{default:function(){return m}});var l=e(9439),n=e(2791),r=e(5299),o=e(8818),s=e(6871),t=e(9433),c=e(184);var a=function(i){var d,e,a,u,v,m,h,x=i.data,j=(0,n.useContext)(r.Vo).dispatch,p=(0,s.s0)(),f=(0,n.useState)(!1),y=(0,l.Z)(f,2),N=y[0],g=y[1],b=(0,n.useState)(!1),I=(0,l.Z)(b,2),w=(I[0],I[1]);return(0,c.jsxs)("div",{className:"my-order-card-cont",children:[(0,c.jsxs)("div",{className:"my-order-card-product-details",children:[(0,c.jsx)("div",{className:"my-order-card-image-cont",children:(0,c.jsx)("img",{src:null===x||void 0===x||null===(d=x.productId)||void 0===d?void 0:d.productImage[0],className:"my-order-card-image",alt:"productimg"})}),(0,c.jsxs)("div",{className:"my-order-card-text",children:[(0,c.jsx)("div",{children:null===x||void 0===x||null===(e=x.productId)||void 0===e?void 0:e.name}),(0,c.jsxs)("div",{children:[null===x||void 0===x?void 0:x.status,": ",null===x||void 0===x||null===(a=x.updatedAt)||void 0===a?void 0:a.slice(0,10)]})]})]}),(0,c.jsx)("div",{className:"my-order-card-order-details",children:(0,c.jsxs)("div",{className:"my-order-card-heading-col",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"Order Date"}),(0,c.jsx)("div",{className:"my-order-card-value-col",children:null===x||void 0===x||null===(u=x.createdAt)||void 0===u?void 0:u.slice(0,10)})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"Order ID"}),(0,c.jsx)("div",{className:"my-order-card-value-col",children:null===x||void 0===x?void 0:x._id})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"Total Pay"}),(0,c.jsxs)("div",{className:"my-order-card-value-col",children:["\u20b9 ",null===x||void 0===x?void 0:x.totalPrice]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"Shipping Address"}),(0,c.jsxs)("div",{className:"my-order-card-value-col",children:[" ",(null===x||void 0===x||null===(v=x.address)||void 0===v?void 0:v.line1)+", "+(null===x||void 0===x||null===(m=x.address)||void 0===m?void 0:m.city)+", "+(null===x||void 0===x||null===(h=x.address)||void 0===h?void 0:h.state)]})]})]})}),(0,c.jsxs)("div",{className:"my-order-card-btn-cont",children:[(0,c.jsx)("div",{children:(0,c.jsx)("button",{style:{border:"1px solid orange",borderRadius:"6px",backgroundColor:"orange",color:"white"},className:"SignUpButton",onClick:function(){var i=[x.productId];p("/HomeProductDetail/".concat(i[0]._id))},children:"Buy it again"})}),"Cancelled"!==(null===x||void 0===x?void 0:x.status)&&(0,c.jsx)("div",{children:(0,c.jsx)("button",{id:"BUYbutton2",style:{border:"1px solid orange",borderRadius:"6px",backgroundColor:"white",color:"orange"},className:"return-btn",onClick:function(){var i={orderId:null===x||void 0===x?void 0:x._id,reason:"abc"};j({type:o.FU,payload:i,upDateState:w,setIsLoading:g})},children:N?(0,c.jsx)(t.Z,{color:"orange"}):"Return"})})]}),"Cancelled"!==(null===x||void 0===x?void 0:x.status)&&(0,c.jsx)("div",{className:"my-order-download-btn-cont",children:(0,c.jsx)("button",{className:"download-btn",onClick:function(){window.open(null===x||void 0===x?void 0:x.invoice)},children:"Download Invoice"})})]})},u=e(1078),v=e(1060);var m=function(){var i=(0,n.useContext)(r.Vo),d=i.dispatch,e=i.auth,m=(0,n.useState)([]),h=(0,l.Z)(m,2),x=h[0],j=h[1],p=(0,n.useState)([]),f=(0,l.Z)(p,2),y=f[0],N=f[1],g=(0,n.useState)(!1),b=(0,l.Z)(g,2),I=b[0],w=b[1],S=(0,n.useState)(!1),O=(0,l.Z)(S,2),k=O[0],_=O[1],C=(0,n.useState)([]),D=(0,l.Z)(C,2),Z=D[0],A=D[1],R=(0,s.s0)();return(0,n.useEffect)((function(){window.scroll(0,0),e&&d({type:o.eR,setIsLoading:w,setAllDeliveredOrders:j,setAllNewOrders:N})}),[e,d]),(0,n.useEffect)((function(){d({type:o.XT,allNewOrders:y,setAllNewOrders:N,setTrackdata:A})}),[y]),(0,n.useEffect)((function(){j([]),N([])}),[]),(0,c.jsxs)("div",{style:{width:"100%",height:"90vh"},children:[(0,c.jsx)("h1",{className:"orders-heading-mobile",children:"Orders"}),I?(0,c.jsx)("div",{style:{width:"100%",height:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,c.jsx)(t.Z,{color:"orange"})}):e?(0,c.jsxs)("div",{className:"w-93 mt-3 mb-5",style:{border:"none",minHeight:"90vh"},children:[null===y||void 0===y?void 0:y.map((function(i,e){var l,n,r,s,a,u,v,m,h,p,f,g,b,I,w,S,O,C,D,A,F,E,L,B,P,U,H,T,K,q,Q,V,Y,M;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{children:["Order ID: ",null===i||void 0===i?void 0:i._id]}),(0,c.jsx)("div",{className:"w-93 mb-4",style:{border:"1px solid gray"},children:(0,c.jsxs)("div",{className:"row d-flex align-tracker",children:[(0,c.jsx)("div",{className:"col-md-3 col-xs-12 col-sm-10 orderimgContainer",children:(0,c.jsx)("img",{src:null===i||void 0===i||null===(l=i.productId)||void 0===l?void 0:l.productImage[0],alt:"prodimg"})}),(0,c.jsxs)("div",{className:"col-md-9 col-12 col-sm-12 py-4",children:[(0,c.jsxs)("div",{className:"row padding-small",children:[(0,c.jsxs)("div",{className:"col-lg-10 col-sm-10 col-md-10 col-8 col-l textS",children:[(0,c.jsx)("p",{className:"fs-16",children:null===i||void 0===i||null===(n=i.productId)||void 0===n?void 0:n.name}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{title:null===i||void 0===i||null===(r=i.productId)||void 0===r?void 0:r.description,className:"fs-14",children:[null===i||void 0===i||null===(s=i.productId)||void 0===s?void 0:s.description.slice(0,90),"..."]}),(0,c.jsxs)("p",{className:"fs-14",children:["Quantity: ",null===i||void 0===i?void 0:i.quantity]})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)("p",{className:"fs-16",children:["\u20b9 ",null===i||void 0===i?void 0:i.orderPrice]}),(0,c.jsx)("p",{className:"fs-16",children:null!==i&&void 0!==i&&i.isCOD?"Cash On Delivery":"Prepaid"})]})})]}),(0,c.jsx)("div",{className:"col-lg-2 col-sm-2 col-md-2 col-4 textE p-0",children:null!==i&&void 0!==i&&i.SKUorderId&&(null===i||void 0===i?void 0:i.SKUorderId.length)>0?(0,c.jsx)("p",{onClick:function(){return d=null===i||void 0===i?void 0:i.SKUorderId,void R("/track-order/".concat(d));var d},className:"cancel-margin m-0",style:{color:"#F7BE16",cursor:"pointer"},children:"See"}):(0,c.jsx)("p",{onClick:function(){return e=null===i||void 0===i?void 0:i._id,void d({type:o.Qm,id:e,setIsLoading:_,setAllNewOrders:N,allNewOrders:y,setAllDeliveredOrders:j,allDeliveredOrders:x});var e},className:"cancel-margin m-0",style:{color:"#F7BE16",cursor:"pointer"},children:k?(0,c.jsx)(t.Z,{color:"orange"}):"Cancel"})})]}),(0,c.jsx)("div",{className:"mb-2 mx-1",children:(0,c.jsx)("div",{className:"",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12 col-md-10  pb20",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"order-tracking col-3 completed",children:[(0,c.jsx)("span",{className:"is-complete"}),(0,c.jsxs)("p",{children:["Ordered",(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:new Date(null===i||void 0===i?void 0:i.updatedAt).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"})}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:new Date(null===i||void 0===i?void 0:i.updatedAt).getHours()+":"+new Date(null===i||void 0===i?void 0:i.updatedAt).getMinutes()})]})]}),(0,c.jsxs)("div",{className:"order-tracking col-3 ".concat((null===Z||void 0===Z||null===(a=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===a||null===(u=a.data)||void 0===u?void 0:u.filter((function(i){return i.activity.includes("Shipment picked up")})))&&"completed"),children:[(0,c.jsx)("span",{className:"is-complete"}),(0,c.jsxs)("p",{children:["Assigned",(null===Z||void 0===Z||null===(v=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===v||null===(m=v.data)||void 0===m?void 0:m.filter((function(i){return i.activity.includes("Shipment picked up")})))&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(h=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===h||null===(p=h.data)||void 0===p||null===(f=p.filter((function(i){return i.activity.includes("Shipment picked up")}))[0])||void 0===f?void 0:f.date.slice(0,10)}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(g=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===g||null===(b=g.data)||void 0===b||null===(I=b.filter((function(i){return i.activity.includes("Shipment picked up")}))[0])||void 0===I?void 0:I.date.slice(11,16)})]})]})]}),(0,c.jsxs)("div",{className:"order-tracking col-3 ".concat((null===Z||void 0===Z||null===(w=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===w||null===(S=w.data)||void 0===S?void 0:S.filter((function(i){return i.activity.includes("Shipment Received at Facility")})))&&"completed"),children:[(0,c.jsx)("span",{className:"is-complete"}),(0,c.jsxs)("p",{children:["Shipped",(null===Z||void 0===Z||null===(O=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===O||null===(C=O.data)||void 0===C?void 0:C.filter((function(i){return i.activity.includes("Shipment Received at Facility")})))&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(D=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===D||null===(A=D.data)||void 0===A||null===(F=A.filter((function(i){return i.activity.includes("Shipment Received at Facility")}))[0])||void 0===F?void 0:F.date.slice(0,10)}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(E=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===E||null===(L=E.data)||void 0===L||null===(B=L.filter((function(i){return i.activity.includes("Shipment Received at Facility")}))[0])||void 0===B?void 0:B.date.slice(11,16)})]})]})]}),(0,c.jsxs)("div",{className:"order-tracking col-3 ".concat((null===Z||void 0===Z||null===(P=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===P||null===(U=P.data)||void 0===U?void 0:U.filter((function(i){return i.activity.includes("Out for delivery")})))&&"completed"),children:[(0,c.jsx)("span",{className:"is-complete"}),(0,c.jsxs)("p",{children:["Out for Delivery",(null===Z||void 0===Z||null===(H=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===H||null===(T=H.data)||void 0===T?void 0:T.filter((function(i){return i.activity.includes("Out for delivery")})))&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(K=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===K||null===(q=K.data)||void 0===q||null===(Q=q.filter((function(i){return i.activity.includes("Out for delivery")}))[0])||void 0===Q?void 0:Q.date.slice(0,10)}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:null===Z||void 0===Z||null===(V=Z.filter((function(d){return d.orderId===(null===i||void 0===i?void 0:i._id)}))[0])||void 0===V||null===(Y=V.data)||void 0===Y||null===(M=Y.filter((function(i){return i.activity.includes("Out for delivery")}))[0])||void 0===M?void 0:M.date.slice(11,16)})]})]})]})]})})})})})]})]})})]},e)})),(0,c.jsxs)("div",{className:"my-order-container",children:[(0,c.jsx)("div",{className:"my-order-container-title",children:"ORDER HISTORY"}),(0,c.jsx)("div",{className:"my-order-card-conatiner",children:(null===x||void 0===x?void 0:x.length)>0?x.map((function(i,d){return(0,c.jsx)(a,{data:i},d)})):(0,c.jsx)("div",{style:{width:"100%"},children:(0,c.jsx)("h6",{style:{textAlign:"center"},children:"No Previous Orders"})})})]})]}):(0,c.jsxs)("div",{style:{height:"90vh"},className:"wishlist-msg",children:[(0,c.jsx)("p",{children:"Login to get your orders!"}),(0,c.jsx)(v.Z,{navigateNow:"/login",text:"Login"})]}),(0,c.jsx)(u.Z,{})]})}},1060:function(i,d,e){e.d(d,{Z:function(){return s}});var l=e(5849),n=(e(2791),e(6871)),r="OutlinedButton_button__qvLxf",o=e(184),s=function(i){var d=i.navigateNow,e=i.text,s=(0,n.s0)();return(0,o.jsx)(l.Z,{onClick:function(){return s(d)},variant:"outlined",className:r,children:e})}}}]);
//# sourceMappingURL=814.f8a646cb.chunk.js.map